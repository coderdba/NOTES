=====================================
API MANAGEMENT
=====================================

A service to register, secure and manage API access.
Like API Keys, certs etc

Docs: https://docs.microsoft.com/en-us/azure/api-management/
- Concepts - talks about various consoles, capabilities, developer console to create subscription/keys: 
  -- https://docs.microsoft.com/en-us/azure/api-management/api-management-key-concepts
- Create an API Management instance: https://docs.microsoft.com/en-us/azure/api-management/get-started-create-service-instance

- 'Subscriptions' - which are API Keys: https://docs.microsoft.com/en-us/azure/api-management/api-management-subscriptions
	- also, see 'product'
	- a subscription is for a product - and a product is a group of api's
- Product: https://docs.microsoft.com/en-us/azure/api-management/api-management-howto-add-products?tabs=azure-portal
	-

- Passing subscription key in APIs: (like API keys)
	https://social.msdn.microsoft.com/Forums/en-US/821e8b4e-22b4-4c98-86fc-a4fb7d98de04/ways-to-pass-subscription-key-in-api-requests
	- looks like sending in header is the only way - Ocp-Apim-Subscription-Key
	
Tutorial series
- import and publish an API: https://docs.microsoft.com/en-us/azure/api-management/import-and-publish
- product: https://docs.microsoft.com/en-us/azure/api-management/api-management-howto-add-products?tabs=azure-portal
	In Azure API Management, a product contains one or more APIs, a usage quota, and the terms of use. 
	After a product is published, developers can subscribe to the product and begin to use the product's APIs.

===============================
CREATE API MANAGEMENT INSTANCE
===============================
Create an API Management instance: https://docs.microsoft.com/en-us/azure/api-management/get-started-create-service-instance

Create resource "API Management Services"
- Install API Management gateway

BASICS
Subscription - my subscription
resource group - my resource group

Instance details
  Region - West Europe
  
	Resource name
	my-api-mgmt-WE

Organization name
myself

Administrator email
myself@my.com

Pricing tier
Developer

MONITORING
	- None

SCALE
	- Not supported for 'development' tier

MANAGED IDENTITY
	- Check the box - so that this gets a managed identity

VIRTUAL NETWORK
Network connectivity
You can connect to your storage account either publicly, via public IP addresses or service endpoints, or privately, using a private endpoint.
Connectivity type
	- None --> chose this
	- Virtual network
	- Private endpoint

PROTOCOL SETTINGS

Did not choose any as of now

Cipher
Triple DES (3DES)

Client-side protocols
HTTP/2

Client-side transport security
TLS 1.1 (HTTP/1.x only)
TLS 1.0 (HTTP/1.x only)
SSL 3.0 (HTTP/1.x only)

Backend-side transport security
TLS 1.1
TLS 1.0
SSL 3.0

REVIEW AND CREATE

Creation happens immediately
However, it will be in 'activating' state - which can take some time to create
