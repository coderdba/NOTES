============================
POSTGRES 11 ON CENTOS 7 VBOX
============================
https://www.postgresql.org/download/linux/redhat/ --> has install and service-enable instructions also

https://computingforgeeks.com/how-to-install-postgresql-11-on-centos-7/
https://www.hostinger.in/tutorials/how-to-install-postgresql-on-centos-7/
https://www.digitalocean.com/community/tutorials/how-to-install-and-use-postgresql-on-centos-7

Tools:
https://www.postgresql.org/download/products/1-administrationdevelopment-tools/
Also, check 'admin4'?

============================
YUM INSTALLS AVAILABLE
============================
Install the repo RPM
# yum install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm
# yum list postgres*

============================
OPTION - YUM INSTALL (did not do this way)
============================
Go to https://www.postgresql.org/download/linux/redhat/

----------------------------
TO INSTALL POSTGRES SERVER
----------------------------

NOTE: Follow the dropdown in the site

To use the PostgreSQL Yum Repository, follow these steps:

Select version: 
11

Select platform: 
Red Hat Enterprise, CentOS, Scientific or Oracle version 7

Select architecture: 
x86_64

Copy, paste and run the relevant parts of the setup script:
# Install the repository RPM:
sudo yum install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm

# Install PostgreSQL:
sudo yum install -y postgresql11-server

# Optionally initialize the database and enable automatic start:
sudo /usr/pgsql-11/bin/postgresql-11-setup initdb
sudo systemctl enable postgresql-11
sudo systemctl start postgresql-11

------------------------
OTHER STUFF TO INSTALL
------------------------
The repository contains many different packages including third party addons. 
The most common and important packages are (substitute the version number as required):

postgresql-client	libraries and client binaries
postgresql-server	core database server
postgresql-contrib	additional supplied modules
postgresql-devel	libraries and headers for C language development
pgadmin4	pgAdmin 4 graphical administration utility

------------------------
Post-installation
------------------------
Due to policies for Red Hat family distributions, the PostgreSQL installation will not be enabled for automatic start or have the database initialized automatically. To make your database installation complete, you need to perform the following steps, based on your distribution:

For RHEL / CentOS / SL / OL 6
  service postgresql initdb
  chkconfig postgresql on
  
For RHEL / CentOS / SL / OL 7, 8 Or Fedora 31 And Later Derived Distributions:
  postgresql-setup --initdb
  systemctl enable postgresql.service
  systemctl start postgresql.service

======================================
OPTION 2 - INSTALL USING RPM
======================================

-------------------------
NOTES FROM POSTGRES SITE
-------------------------
https://www.postgresql.org/download/linux/redhat/

If you cannot, or do not want to, use the yum based installation method, all the RPMs that are in the yum repository 
are available for direct download and manual installation as well.

--> https://yum.postgresql.org/rpmchart/
--> https://yum.postgresql.org/11/redhat/rhel-7-x86_64/repoview/
--> https://yum.postgresql.org/11/redhat/rhel-7-x86_64/repoview/postgresqldbserver11.group.html
postgresql11 - PostgreSQL client programs and libraries
postgresql11-contrib - Contributed source and binaries distributed with PostgreSQL
postgresql11-libs - The shared libraries required for any PostgreSQL clients
postgresql11-server - The programs needed to create and run a PostgreSQL server

-------------------------
INSTALL YUM REPO (necessary even if we are downloading and installing using RPM)
-------------------------
https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/
# yum install https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-42.0-14.noarch.rpm  

https://yum.postgresql.org/repopackages/
--> https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm
# yum install https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm

This will create this file:
/etc/yum.repos.d/pgdg-redhat-all.repo

-------------------------
DOWNLOAD RPMS
-------------------------
NOTE: The downloads are really small - considering the large size of Oracle.
      To verify, do a yum install and see that sizes match - dont install though.
      
Download the latest from the sub-links in the links in this page: https://yum.postgresql.org/11/redhat/rhel-7-x86_64/repoview/postgresqldbserver11.group.html      
PostgreSQL Database Server 11 PGDG
postgresql11 - PostgreSQL client programs and libraries
postgresql11-contrib - Contributed source and binaries distributed with PostgreSQL
postgresql11-libs - The shared libraries required for any PostgreSQL clients
postgresql11-server - The programs needed to create and run a PostgreSQL server

-rw-r--r--@ 1  1762888 Jan 15 15:00 postgresql11-11.10-1PGDG.rhel7.x86_64.rpm
-rw-r--r--@ 1   623728 Jan 15 15:01 postgresql11-contrib-11.10-1PGDG.rhel7.x86_64.rpm
-rw-r--r--@     371540 Jan 15 15:01 postgresql11-libs-11.10-1PGDG.rhel7.x86_64.rpm
-rw-r--r--@    4973752 Jan 15 15:01 postgresql11-server-11.10-1PGDG.rhel7.x86_64.rpm

- VERIFY IF THESE TINY SIZES ARE OK!!
# yum install postgresql11-server
Loaded plugins: fastestmirror, langpacks
Loading mirror speeds from cached hostfile
 * base: centos.hbcse.tifr.res.in
 * extras: centos.hbcse.tifr.res.in
 * updates: centos.hbcse.tifr.res.in
Resolving Dependencies
--> Running transaction check
---> Package postgresql11-server.x86_64 0:11.10-1PGDG.rhel7 will be installed
--> Processing Dependency: postgresql11-libs(x86-64) = 11.10-1PGDG.rhel7 for package: postgresql11-server-11.10-1PGDG.rhel7.x86_64
--> Processing Dependency: postgresql11(x86-64) = 11.10-1PGDG.rhel7 for package: postgresql11-server-11.10-1PGDG.rhel7.x86_64
--> Processing Dependency: libpq.so.5()(64bit) for package: postgresql11-server-11.10-1PGDG.rhel7.x86_64
--> Running transaction check
---> Package postgresql11.x86_64 0:11.10-1PGDG.rhel7 will be installed
---> Package postgresql11-libs.x86_64 0:11.10-1PGDG.rhel7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

========================================================================================================================
 Package                            Arch                  Version                           Repository             Size
========================================================================================================================
Installing:
 postgresql11-server                x86_64                11.10-1PGDG.rhel7                 pgdg11                4.7 M
Installing for dependencies:
 postgresql11                       x86_64                11.10-1PGDG.rhel7                 pgdg11                1.7 M
 postgresql11-libs                  x86_64                11.10-1PGDG.rhel7                 pgdg11                363 k

Transaction Summary
========================================================================================================================
Install  1 Package (+2 Dependent packages)

Total download size: 6.8 M
Installed size: 29 M
Is this ok [y/d/N]: 

<< BREAK IT HERE, SO THAT THEY DONT GET YUM-INSTALLED - AS WE WANT TO INSTALL USIN RPM >>

-------------------
INSTALL RPMS
-------------------
postgresql11-11.10-1PGDG.rhel7.x86_64.rpm
postgresql11-contrib-11.10-1PGDG.rhel7.x86_64.rpm
postgresql11-libs-11.10-1PGDG.rhel7.x86_64.rpm
postgresql11-server-11.10-1PGDG.rhel7.x86_64.rpm
